[
  {
    "objectID": "activity/modeling-loans-solutions.html",
    "href": "activity/modeling-loans-solutions.html",
    "title": "Modeling loans - Solutions",
    "section": "",
    "text": "library(tidyverse)\nlibrary(tidymodels)\nlibrary(knitr)\nlibrary(openintro)"
  },
  {
    "objectID": "activity/modeling-loans-solutions.html#data",
    "href": "activity/modeling-loans-solutions.html#data",
    "title": "Modeling loans - Solutions",
    "section": "Data",
    "text": "Data\nIn today’s workshop, we will explore using the tidymodels framework for modeling along with the tidyverse framework for data wrangling and visualization. We will start with some exploratory data analysis, walk through how to create the key components of a predictive model (models, recipes, and workflows), and how to perform cross-validation. Throughout we will be using the loans_full_schema dataset from the openintro package1 and featured in the OpenIntro textbooks2 .\nThe data has a bit of peculiarity about it, specifically the application_type variable is a factor variable with an empty level.\n\nlevels(loans_full_schema$application_type)\n\n[1] \"\"           \"individual\" \"joint\"     \n\n\nLet’s clean up this variable using the droplevels() function first. And let’s apply that to the whole dataset, in case there are other variables with similar issues.\n\nloans_full_schema <- droplevels(loans_full_schema)\n\nThe variables we’ll use in this analysis are:\n\ninterest_rate: Interest rate of the loan the applicant received.\ndebt_to_income: Debt-to-income ratio.\nterm: The number of months of the loan the applicant received.\ninquiries_last_12m: Inquiries into the applicant’s credit during the last 12 months.\npublic_record_bankrupt: Number of bankruptcies listed in the public record for this applicant.\napplication_type: The type of application: either individual or joint."
  },
  {
    "objectID": "activity/modeling-loans-solutions.html#exercise-1-train-test-data-split",
    "href": "activity/modeling-loans-solutions.html#exercise-1-train-test-data-split",
    "title": "Modeling loans - Solutions",
    "section": "Exercise 1: Train-test data split",
    "text": "Exercise 1: Train-test data split\nSplit the data into a training and test set with a 75%-25% split. Don’t forget to set a seed!\n\nset.seed(210)\n\nloans_split <- initial_split(loans_full_schema)\nloans_train <- training(loans_split)\nloans_test <- testing(loans_split)"
  },
  {
    "objectID": "activity/modeling-loans-solutions.html#exercise-2-the-model",
    "href": "activity/modeling-loans-solutions.html#exercise-2-the-model",
    "title": "Modeling loans - Solutions",
    "section": "Exercise 2: The Model",
    "text": "Exercise 2: The Model\nWrite the model for predicting interest rate (interest_rate) from debt to income ratio (debt_to_income), the term of loan (term), the number of inquiries (credit checks) into the applicant’s credit during the last 12 months (inquiries_last_12m), whether there are any bankruptcies listed in the public record for this applicant (bankrupt), and the type of application (application_type). The model should allow for the effect of to income ratio on interest rate to vary by application type.\n\\[\n\\begin{aligned}\n\\widehat{\\texttt{interest\\_rate}} = b_0 &+ b_1\\times\\texttt{debt\\_to\\_income} \\\\\n&+ b_2 \\times \\texttt{term} \\\\\n&+ b_3 \\times \\texttt{inquiries\\_last\\_12m} \\\\\n&+ b_4 \\times \\texttt{bankrupt} \\\\\n&+ b_5 \\times \\texttt{application\\_type} \\\\\n&+ b_6 \\times \\texttt{debt\\_to\\_income:application\\_type}\n\\end{aligned}\n\\]"
  },
  {
    "objectID": "activity/modeling-loans-solutions.html#exercise-3-eda",
    "href": "activity/modeling-loans-solutions.html#exercise-3-eda",
    "title": "Modeling loans - Solutions",
    "section": "Exercise 3: EDA",
    "text": "Exercise 3: EDA\nExplore characteristics of the variables you’ll use for the model using the training data only.\nFirst, take a peek at the relevant variables in the data.\n\nloans_train %>%\n  select(interest_rate, debt_to_income, term,\n         inquiries_last_12m, public_record_bankrupt, application_type) %>%\n  glimpse()\n\nRows: 7,500\nColumns: 6\n$ interest_rate          <dbl> 7.34, 21.85, 6.72, 17.47, 12.62, 7.34, 14.08, 1…\n$ debt_to_income         <dbl> 3.81, 32.80, 4.31, 8.94, 11.87, 4.51, 20.24, 9.…\n$ term                   <dbl> 36, 36, 36, 60, 60, 60, 60, 36, 60, 60, 36, 36,…\n$ inquiries_last_12m     <int> 0, 1, 2, 1, 0, 1, 3, 1, 0, 0, 0, 4, 0, 0, 0, 5,…\n$ public_record_bankrupt <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ application_type       <fct> individual, individual, individual, joint, indi…\n\n\nCreate univariate, bivariate, and multivariate plots, and make sure to think about which plots are the most appropriate and effective given the data types.\n\nInterest rate:\n\n\nggplot(loans_train, aes(x = interest_rate)) +\n  geom_histogram(binwidth = 1) +\n  labs(\n    x = \"Interest rate\", y = \"Count\",\n    title = \"Distribution of loan interest rates\"\n  )\n\n\n\n\n\nInterest rate vs. debt to income ratio by application type:\n\n\nggplot(loans_train, \n       aes(x = debt_to_income, y = interest_rate,\n           color = application_type, shape = application_type)) +\n  geom_point() +\n  labs(\n    x = \"Debt-to-income ratio\", y = \"Interest rate\",\n    color = \"Application type\", shape = \"Application type\",\n    title = \"Interest rate vs. Debt-to-income by application type\"\n  )\n\nWarning: Removed 16 rows containing missing values (geom_point).\n\n\n\n\n\n\nInterest rate by bankruptcy:\n\n\nloans_train %>%\n  mutate(bankrupt = if_else(public_record_bankrupt == 0, \"no\", \"yes\")) %>%\n  ggplot(aes(x = interest_rate, fill = bankrupt)) +\n  geom_density(alpha = 0.5) +\n  labs(\n    x = \"Interest rate\", y = \"Density\",\n    fill = \"Past bankrupcy status\", \n    title = \"Interest rate by past bankruptcy status\"\n  )"
  },
  {
    "objectID": "activity/modeling-loans-solutions.html#exercise-4-model-specification",
    "href": "activity/modeling-loans-solutions.html#exercise-4-model-specification",
    "title": "Modeling loans - Solutions",
    "section": "Exercise 4: Model specification",
    "text": "Exercise 4: Model specification\nSpecify a linear regression model. Call it loans_spec.\n\nloans_spec <- linear_reg()"
  },
  {
    "objectID": "activity/modeling-loans-solutions.html#exercise-5-recipe-and-formula-building",
    "href": "activity/modeling-loans-solutions.html#exercise-5-recipe-and-formula-building",
    "title": "Modeling loans - Solutions",
    "section": "Exercise 5: Recipe and formula building",
    "text": "Exercise 5: Recipe and formula building\n\nPredict interest_rate from debt_to_income, term, inquiries_last_12m, public_record_bankrupt, and application_type.\nMean center debt_to_income.\nMake term a factor.\nCreate a new variable: bankrupt that takes on the value “no” if public_record_bankrupt is 0 and the value “yes” if public_record_bankrupt is 1 or higher. Then, remove public_record_bankrupt.\nInteract application_type with debt_to_income.\nCreate dummy variables where needed and drop any zero variance variables.\n\n\nloans_rec <- recipe(interest_rate ~ debt_to_income +\n  term + inquiries_last_12m +\n  public_record_bankrupt + application_type,\ndata = loans_train\n) %>%\n  step_center(debt_to_income) %>%\n  step_mutate(term = as_factor(term)) %>%\n  step_mutate(bankrupt = as_factor(if_else(public_record_bankrupt == 0, \"no\", \"yes\"))) %>%\n  step_rm(public_record_bankrupt) %>%\n  step_dummy(all_nominal_predictors()) %>%\n  step_interact(terms = ~ starts_with(\"application_type\"):debt_to_income) %>%\n  step_zv(all_predictors())"
  },
  {
    "objectID": "activity/modeling-loans-solutions.html#exercise-6-creating-a-workflow",
    "href": "activity/modeling-loans-solutions.html#exercise-6-creating-a-workflow",
    "title": "Modeling loans - Solutions",
    "section": "Exercise 6: Creating a workflow",
    "text": "Exercise 6: Creating a workflow\nCreate the workflow that brings together the model specification and recipe.\n\nloans_wflow <- workflow() %>%\n  add_model(loans_spec) %>%\n  add_recipe(loans_rec)"
  },
  {
    "objectID": "activity/modeling-loans-solutions.html#exercise-7-cross-validation-and-summary",
    "href": "activity/modeling-loans-solutions.html#exercise-7-cross-validation-and-summary",
    "title": "Modeling loans - Solutions",
    "section": "Exercise 7: Cross-validation and summary",
    "text": "Exercise 7: Cross-validation and summary\nConduct 10-fold cross validation.\n\nset.seed(210)\nloans_folds <- vfold_cv(loans_train, v = 10)\nloans_fit_rs <- loans_wflow %>%\n  fit_resamples(loans_folds)\nloans_fit_rs\n\n# Resampling results\n# 10-fold cross-validation \n# A tibble: 10 × 4\n   splits             id     .metrics         .notes          \n   <list>             <chr>  <list>           <list>          \n 1 <split [6750/750]> Fold01 <tibble [2 × 4]> <tibble [0 × 3]>\n 2 <split [6750/750]> Fold02 <tibble [2 × 4]> <tibble [0 × 3]>\n 3 <split [6750/750]> Fold03 <tibble [2 × 4]> <tibble [0 × 3]>\n 4 <split [6750/750]> Fold04 <tibble [2 × 4]> <tibble [0 × 3]>\n 5 <split [6750/750]> Fold05 <tibble [2 × 4]> <tibble [0 × 3]>\n 6 <split [6750/750]> Fold06 <tibble [2 × 4]> <tibble [0 × 3]>\n 7 <split [6750/750]> Fold07 <tibble [2 × 4]> <tibble [0 × 3]>\n 8 <split [6750/750]> Fold08 <tibble [2 × 4]> <tibble [0 × 3]>\n 9 <split [6750/750]> Fold09 <tibble [2 × 4]> <tibble [0 × 3]>\n10 <split [6750/750]> Fold10 <tibble [2 × 4]> <tibble [0 × 3]>\n\n\nSummarize metrics from your CV resamples.\n\ncollect_metrics(loans_fit_rs)\n\n# A tibble: 2 × 6\n  .metric .estimator  mean     n std_err .config             \n  <chr>   <chr>      <dbl> <int>   <dbl> <chr>               \n1 rmse    standard   4.54     10 0.0363  Preprocessor1_Model1\n2 rsq     standard   0.173    10 0.00646 Preprocessor1_Model1\n\n\nWe can also visualize the metrics across folds.\n\ncollect_metrics(loans_fit_rs, summarize = FALSE) %>%\n  mutate(id = str_remove(id, \"Fold\")) %>%\n  ggplot(aes(x = id, y = .estimate, group = .metric)) +\n  geom_line() +\n  facet_wrap(~.metric, scales = \"free\", ncol = 1) +\n  labs(x = \"Fold\", y = \"Estimate\",\n       title = \"Cross-validation metrics\")"
  },
  {
    "objectID": "activity/modeling-loans-solutions.html#exploratory-data-analysis",
    "href": "activity/modeling-loans-solutions.html#exploratory-data-analysis",
    "title": "Modeling loans - Solutions",
    "section": "Exploratory data analysis",
    "text": "Exploratory data analysis\nUsing your plots above (along with any other metrics you compute), describe your initial findings about the training data. Discuss why we perform EDA only on the training data and not on the entire data set.\n\nloans_med <- median(loans_train$interest_rate)\nloans_iqr <- IQR(loans_train$interest_rate)\n\nIt appears that the marginal distribution for interest rates is largely unimodal (possibly bimodal since there aren’t many loans issued with interest rates around 7%) with a right-skew. The median interest rate is 11.98 with IQR 5.62.\nIt appears that there is no strong relationship between debt-to-income when the debt-to-income ratio is low. It seems that the that joint applications generally have higher debt-to-income ratios, but possibly some lower interest rates for highly levered (i.e., high debt-to-income ratios, especially greater than 100%) applications. These may be outliers.\nThe boxplot seems to suggest that while applications with a bankruptcy history have higher interest rates, the difference is very slight."
  },
  {
    "objectID": "activity/modeling-loans-solutions.html#model-fitting-and-fit-evaluation",
    "href": "activity/modeling-loans-solutions.html#model-fitting-and-fit-evaluation",
    "title": "Modeling loans - Solutions",
    "section": "Model fitting and fit evaluation",
    "text": "Model fitting and fit evaluation\nAlthough our primary aim is prediction and not inference, it may be of interest to view the model fit nonetheless to make sure nothing looks out of the ordinary. Create a neatly organized table of the model output, and describe your observations, such as which parameters are significant. Make sure to interpret some coefficients appropriately.\n\nloans_train_fit <- fit(loans_wflow, data = loans_train)\n\ntidy(loans_train_fit) %>% \n  kable(digits = 2)\n\n\n\n\n\n\n\n\n\n\n\nterm\nestimate\nstd.error\nstatistic\np.value\n\n\n\n\n(Intercept)\n10.94\n0.08\n135.05\n0.00\n\n\ndebt_to_income\n0.11\n0.01\n16.46\n0.00\n\n\ninquiries_last_12m\n0.22\n0.02\n9.91\n0.00\n\n\nterm_X60\n3.84\n0.11\n33.41\n0.00\n\n\napplication_type_joint\n-0.08\n0.16\n-0.53\n0.59\n\n\nbankrupt_yes\n0.46\n0.16\n2.84\n0.00\n\n\napplication_type_joint_x_debt_to_income\n-0.09\n0.01\n-12.00\n0.00\n\n\n\n\n\nFrom the above table, it appears that all of the coefficients are significant at the 0.05 significance level except for application_type. However, the interaction with debt_to_income is significant, so we want to include the main effect. We find that the sign of the coefficients is intuitive. For instance, as the debt-to-income ratio increases by 1%, the interest rate is predicted to increase by about 0.11% on average, holding all equal. Similarly, relative to loans with a 3-year maturity, loans with a 5-year maturity are predicted to have an interest rate about 3.84% higher on averaged, all else equal."
  },
  {
    "objectID": "activity/modeling-loans-solutions.html#cross-validation",
    "href": "activity/modeling-loans-solutions.html#cross-validation",
    "title": "Modeling loans - Solutions",
    "section": "Cross-validation",
    "text": "Cross-validation\nExplain what 10-fold CV does, and why it’s useful. Display a neat table with the outputs of your CV summary, and describe your observations. Make sure to discuss why we are focusing on R-squared and RMSE instead of adjusted R-squared, AIC, and BIC.\n10-fold CV splits the training data into roughly 10 equal groups, fits the model on 9 of the groups, and then tests the performance on the remaining 10th group. This is done by leaving one group out at a team, and then averaging the error. We do this because even though we cannot use the test data to in fitting the model, this allows us to get an idea of how well our model performs on data it has not seen before. In turn, we can compare different models based on their predictive performance using metrics like R-squared and RMSE. Since prediction is our primary concern, we use these metrics instead of R-squared, AIC, and BIC.\n\ncv_metrics <- collect_metrics(loans_fit_rs)\ncv_metrics %>% kable(digits = 2)\n\n\n\n\n.metric\n.estimator\nmean\nn\nstd_err\n.config\n\n\n\n\nrmse\nstandard\n4.54\n10\n0.04\nPreprocessor1_Model1\n\n\nrsq\nstandard\n0.17\n10\n0.01\nPreprocessor1_Model1\n\n\n\n\nloan_rmse <- cv_metrics$mean[1]\nloan_rsq <- cv_metrics$mean[2]\n\nThe above table computes the RMSE, which is about 4.54, and the R-squared, which is about 0.17."
  },
  {
    "objectID": "activity/modeling-loans.html",
    "href": "activity/modeling-loans.html",
    "title": "Modeling loans - Solutions",
    "section": "",
    "text": "library(tidyverse)\nlibrary(tidymodels)\nlibrary(knitr)\nlibrary(openintro)"
  },
  {
    "objectID": "activity/modeling-loans.html#data",
    "href": "activity/modeling-loans.html#data",
    "title": "Modeling loans - Solutions",
    "section": "Data",
    "text": "Data\nIn today’s workshop, we will explore using the tidymodels framework for modeling along with the tidyverse framework for data wrangling and visualization. We will start with some exploratory data analysis, walk through how to create the key components of a predictive model (models, recipes, and workflows), and how to perform cross-validation. Throughout we will be using the loans_full_schema dataset from the openintro package1 and featured in the OpenIntro textbooks2 .\nThe data has a bit of peculiarity about it, specifically the application_type variable is a factor variable with an empty level.\n\nlevels(loans_full_schema$application_type)\n\n[1] \"\"           \"individual\" \"joint\"     \n\n\nLet’s clean up this variable using the droplevels() function first. And let’s apply that to the whole dataset, in case there are other variables with similar issues.\n\nloans_full_schema <- droplevels(loans_full_schema)\n\nThe variables we’ll use in this analysis are:\n\ninterest_rate: Interest rate of the loan the applicant received.\ndebt_to_income: Debt-to-income ratio.\nterm: The number of months of the loan the applicant received.\ninquiries_last_12m: Inquiries into the applicant’s credit during the last 12 months.\npublic_record_bankrupt: Number of bankruptcies listed in the public record for this applicant.\napplication_type: The type of application: either individual or joint."
  },
  {
    "objectID": "activity/modeling-loans.html#exercise-1-train-test-data-split",
    "href": "activity/modeling-loans.html#exercise-1-train-test-data-split",
    "title": "Modeling loans - Solutions",
    "section": "Exercise 1: Train-test data split",
    "text": "Exercise 1: Train-test data split\nSplit the data into a training and test set with a 75%-25% split. Don’t forget to set a seed!\n\nset.seed(210)\n\nloans_split <- initial_split(___)\n\nloans_train <- training(___)\nloans_test <- ___(___)"
  },
  {
    "objectID": "activity/modeling-loans.html#exercise-2-the-model",
    "href": "activity/modeling-loans.html#exercise-2-the-model",
    "title": "Modeling loans - Solutions",
    "section": "Exercise 2: The Model",
    "text": "Exercise 2: The Model\nWrite the model for predicting interest rate (interest_rate) from debt to income ratio (debt_to_income), the term of loan (term), the number of inquiries (credit checks) into the applicant’s credit during the last 12 months (inquiries_last_12m), whether there are any bankruptcies listed in the public record for this applicant (bankrupt), and the type of application (application_type). The model should allow for the effect of to income ratio on interest rate to vary by application type.\n\\[\n\\begin{aligned}\n\\widehat{\\texttt{interest\\_rate}} = b_0 &+ b_1\\times\\texttt{debt\\_to\\_income} \\\\\n&+ b_2 \\times \\texttt{term} \\\\\n&+ b_3 \\times \\texttt{inquiries\\_last\\_12m} \\\\\n&+ b_4 \\times \\texttt{bankrupt} \\\\\n&+ b_5 \\times \\texttt{application\\_type} \\\\\n&+ b_6 \\times \\texttt{debt\\_to\\_income:application\\_type}\n\\end{aligned}\n\\]"
  },
  {
    "objectID": "activity/modeling-loans.html#exercise-3-eda",
    "href": "activity/modeling-loans.html#exercise-3-eda",
    "title": "Modeling loans - Solutions",
    "section": "Exercise 3: EDA",
    "text": "Exercise 3: EDA\nExplore characteristics of the variables you’ll use for the model using the training data only.\nFirst, take a peek at the relevant variables in the data.\n\nloans_train %>%\n  select(interest_rate, debt_to_income, term,\n         inquiries_last_12m, public_record_bankrupt, application_type) %>%\n  glimpse()\n\nCreate univariate, bivariate, and multivariate plots, and make sure to think about which plots are the most appropriate and effective given the data types.\n\nInterest rate:\n\n\nggplot(loans_train, aes(x = interest_rate)) +\n  geom_histogram(binwidth = 1) +\n  labs(\n    x = \"Interest rate\", y = \"Count\",\n    title = \"Distribution of loan interest rates\"\n  )\n\n\nInterest rate vs. debt to income ratio by application type:\n\n\nggplot(loans_train, \n       aes(x = debt_to_income, y = interest_rate,\n           color = application_type, shape = application_type)) +\n  geom_point() +\n  labs(\n    x = \"Debt-to-income ratio\", y = \"Interest rate\",\n    color = \"Application type\", shape = \"Application type\",\n    title = \"Interest rate vs. Debt-to-income by application type\"\n  )\n\n\nInterest rate by bankruptcy:\n\n\nloans_train %>%\n  mutate(bankrupt = if_else(public_record_bankrupt == 0, \"no\", \"yes\")) %>%\n  ggplot(aes(x = interest_rate, fill = bankrupt)) +\n  geom_density(alpha = 0.5) +\n  labs(\n    x = \"Interest rate\", y = \"Density\",\n    fill = \"Past bankrupcy status\", \n    title = \"Interest rate by past bankruptcy status\"\n  )"
  },
  {
    "objectID": "activity/modeling-loans.html#exercise-4-model-specification",
    "href": "activity/modeling-loans.html#exercise-4-model-specification",
    "title": "Modeling loans - Solutions",
    "section": "Exercise 4: Model specification",
    "text": "Exercise 4: Model specification\nSpecify a linear regression model. Call it loans_spec.\n\nloans_spec <- ___"
  },
  {
    "objectID": "activity/modeling-loans.html#exercise-5-recipe-and-formula-building",
    "href": "activity/modeling-loans.html#exercise-5-recipe-and-formula-building",
    "title": "Modeling loans - Solutions",
    "section": "Exercise 5: Recipe and formula building",
    "text": "Exercise 5: Recipe and formula building\n\nPredict interest_rate from debt_to_income, term, inquiries_last_12m, public_record_bankrupt, and application_type.\nMean center debt_to_income.\nMake term a factor.\nCreate a new variable: bankrupt that takes on the value “no” if public_record_bankrupt is 0 and the value “yes” if public_record_bankrupt is 1 or higher. Then, remove public_record_bankrupt.\nInteract application_type with debt_to_income.\nCreate dummy variables where needed and drop any zero variance variables.\n\n\nloans_rec <- recipe(interest_rate ~ ___, data = ___) %>%\n  step_center(___) %>%\n  step_mutate(term = ___) %>%\n  step_mutate(bankrupt = ___) %>%\n  step_rm(___) %>%\n  step_dummy(___) %>%\n  step_interact(terms = ~ ___) %>%\n  step_zv(___)"
  },
  {
    "objectID": "activity/modeling-loans.html#exercise-6-creating-a-workflow",
    "href": "activity/modeling-loans.html#exercise-6-creating-a-workflow",
    "title": "Modeling loans - Solutions",
    "section": "Exercise 6: Creating a workflow",
    "text": "Exercise 6: Creating a workflow\nCreate the workflow that brings together the model specification and recipe.\n\nloans_wflow <- workflow() %>%\n  add_model(___) %>%\n  add_recipe(___)\n\nloans_wflow"
  },
  {
    "objectID": "activity/modeling-loans.html#exercise-7-cross-validation-and-summary",
    "href": "activity/modeling-loans.html#exercise-7-cross-validation-and-summary",
    "title": "Modeling loans - Solutions",
    "section": "Exercise 7: Cross-validation and summary",
    "text": "Exercise 7: Cross-validation and summary\nConduct 10-fold cross validation.\n\nset.seed(210)\nloans_folds <- vfold_cv(loans_train, v = 10)\n\nloans_fit_rs <- ___ %>%\n  fit_resamples(___)\n\nloans_fit_rs\n\nSummarize metrics from your CV resamples.\n\ncollect_metrics(___)\n\nWe can also visualize the metrics across folds.\n\ncollect_metrics(loans_fit_rs, summarize = FALSE) %>%\n  ..."
  },
  {
    "objectID": "activity/modeling-loans.html#breakout-1",
    "href": "activity/modeling-loans.html#breakout-1",
    "title": "Modeling loans - Solutions",
    "section": "Breakout 1",
    "text": "Breakout 1\nGo to https://docs.google.com/presentation/d/1xAesWFvErmAGqsEUwABJThJjaxxlNFwFPbo9mZgNfrY/edit."
  },
  {
    "objectID": "activity/modeling-loans.html#exploratory-data-analysis",
    "href": "activity/modeling-loans.html#exploratory-data-analysis",
    "title": "Modeling loans - Solutions",
    "section": "Exploratory data analysis",
    "text": "Exploratory data analysis\nUsing your plots above (along with any other metrics you compute), describe your initial findings about the training data. Discuss why we perform EDA only on the training data and not on the entire data set."
  },
  {
    "objectID": "activity/modeling-loans.html#model-fitting-and-fit-evaluation",
    "href": "activity/modeling-loans.html#model-fitting-and-fit-evaluation",
    "title": "Modeling loans - Solutions",
    "section": "Model fitting and fit evaluation",
    "text": "Model fitting and fit evaluation\nAlthough our primary aim is prediction and not inference, it may be of interest to view the model fit nonetheless to make sure nothing looks out of the ordinary. Create a neatly organized table of the model output, and describe your observations, such as which parameters are significant. Make sure to interpret some coefficients appropriately."
  },
  {
    "objectID": "activity/modeling-loans.html#cross-validation",
    "href": "activity/modeling-loans.html#cross-validation",
    "title": "Modeling loans - Solutions",
    "section": "Cross-validation",
    "text": "Cross-validation\nExplain what 10-fold CV does, and why it’s useful. Display a neat table with the outputs of your CV summary, and describe your observations. Make sure to discuss why we are focusing on R-squared and RMSE instead of adjusted R-squared, AIC, and BIC."
  },
  {
    "objectID": "activity/modeling-loans.html#breakout-2",
    "href": "activity/modeling-loans.html#breakout-2",
    "title": "Modeling loans - Solutions",
    "section": "Breakout 2",
    "text": "Breakout 2\nGo to https://docs.google.com/presentation/d/1xAesWFvErmAGqsEUwABJThJjaxxlNFwFPbo9mZgNfrY/edit."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Modernizing the undergraduate regression analysis course",
    "section": "",
    "text": "eCOTS 2022\nMonday, May 23, 2022\n3:35 pm – 4:45 pm ET\n\n\nAbstract\nThere has been significant innovation in introductory statistics and data science courses to equip students with the statistical, computing, and communication skills needed for modern data analysis. Innovating subsequent courses is also important, so students can continue developing these skills beyond the first course. In this session, we’ll present a modern approach to teaching undergraduate regression analysis, the second statistics course for many students. We’ll share strategies for using real-world data sets and examples, teaching modern computing skills, and incorporating non-technical skills such as writing and effective collaboration as part of the course. We’ll share example activities and assignments, along with a demo of the computing toolkit using the R tidymodels package, Quarto for reproducible reports, and Git and GitHub for version control and collaboration. The activities and demo will be hands-on; attendees will also have the opportunity to exchange ideas and ask questions throughout the session.\n\n\nPresenters\n\nDr. Maria Tackett is an Assistant Professor of the Practice in the Department of Statistical Science at Duke University. Her current work focuses on understanding how active learning strategies can be used to promote engagement and student motivation in undergraduate statistics courses. She also studies how classroom practices in introductory math and statistics courses impact students’ sense of community, self-efficacy, and learning outcomes. Maria is an RStudio certified trainer and is actively involved in the R and statistics education communities.\n\n\nDr. Mine Çetinkaya-Rundel (she/her) is Professor of the Practice and Director of Undergraduate Studies at the Department of Statistical Science at Duke University. Mine’s work focuses on innovation in statistics and data science pedagogy, with an emphasis on computing, reproducible research, student-centered learning, and open-source education as well as pedagogical approaches for enhancing retention of women and under-represented minorities in STEM. Mine also works with RStudio as a Developer Educator.\n\n\nRisk Presman is a rising 3rd year PhD student in the Department of Statistical Science at Duke University. He works on problems that lie at the intersection of statistical inference and optimization. Most recently, Rick completed an MS in Statistics at the University of Chicago and worked as a consultant in financial services. Prior to that, he completed a BS in Mathematics (Honors) and a BA in Economics at the University of Chicago."
  },
  {
    "objectID": "slides.html",
    "href": "slides.html",
    "title": "Modernizing the undergraduate regression analysis course",
    "section": "",
    "text": "View slides in full screen"
  },
  {
    "objectID": "resources/resources.html",
    "href": "resources/resources.html",
    "title": "Resources",
    "section": "",
    "text": "Spring 2022 (using tidymodels)\nFall 2021"
  },
  {
    "objectID": "resources/resources.html#textbooks",
    "href": "resources/resources.html#textbooks",
    "title": "Resources",
    "section": "Textbooks",
    "text": "Textbooks\n\nIntroduction to Modern Statistics by Mine Çetinkaya-Rundel and Johanna Hardin\nR for Data Science by Garret Grolemund and Hadley Wickham\nTidy modeling with R by Max Kuhn and Julia Silge\nBeyond Multiple Linear Regression by Paul Roback and Julie Legler"
  },
  {
    "objectID": "slides/index.html#introductions",
    "href": "slides/index.html#introductions",
    "title": "Modernizing the undergraduate regression analysis course",
    "section": "Introductions",
    "text": "Introductions\n\n\nDr. Maria Tackett\nDr. Mine Çetinkaya-Rundel\nRick Presman"
  },
  {
    "objectID": "slides/index.html#section",
    "href": "slides/index.html#section",
    "title": "Modernizing the undergraduate regression analysis course",
    "section": "",
    "text": "One link for all materials\n🔗 bit.ly/modern-regression"
  },
  {
    "objectID": "slides/index.html#session-agenda",
    "href": "slides/index.html#session-agenda",
    "title": "Modernizing the undergraduate regression analysis course",
    "section": "Session agenda",
    "text": "Session agenda\n\nBackground + motivation\nComputing with tidymodels\nLive demo + activity\nTips + putting it all together"
  },
  {
    "objectID": "slides/index.html#asa-curriculum-guidelines",
    "href": "slides/index.html#asa-curriculum-guidelines",
    "title": "Modernizing the undergraduate regression analysis course",
    "section": "2014 ASA Curriculum Guidelines",
    "text": "2014 ASA Curriculum Guidelines\n\n“…concepts and approaches for working with complex data…and analyzing non-textbook data.”\n\n\n\n“…students’ analyses should be undertaken in a well-documented and reproducible way”\n\n\n\n“…construct effective visual displays and compelling written summaries” and “demonstrate ability to collaborate in teams…”\nFull 2014 ASA Curriculum Guidelines Report"
  },
  {
    "objectID": "slides/index.html#assessing-final-projects",
    "href": "slides/index.html#assessing-final-projects",
    "title": "Modernizing the undergraduate regression analysis course",
    "section": "Assessing final projects",
    "text": "Assessing final projects\n\nFinal group project throughout second half of the course\n\nUse regression analysis to analyze a data set of their choice\nProduce a written report and presentation\n\n\n\n\nNoticed students had challenges…\n\nPreparing the data for analysis\nEffectively summarizing model results\nMaking analysis decisions"
  },
  {
    "objectID": "slides/index.html#inspired-by-introductory-courses",
    "href": "slides/index.html#inspired-by-introductory-courses",
    "title": "Modernizing the undergraduate regression analysis course",
    "section": "Inspired by introductory courses",
    "text": "Inspired by introductory courses\nInnovations in introductory courses in line with recommendations in the 2016 GAISE report.\n\n\n\n\n\n\nModern Dive\n\n\n\n\n\n\nIntroduction to Modern Statistics\n\n\n\n\n\n\nModern Data Science with R\n\n\n\n\n\n\nData Science in a Box"
  },
  {
    "objectID": "slides/index.html#sta-210-regression-analysis",
    "href": "slides/index.html#sta-210-regression-analysis",
    "title": "Modernizing the undergraduate regression analysis course",
    "section": "STA 210: Regression Analysis",
    "text": "STA 210: Regression Analysis\nA course primarily on linear and logistic regression with a focus on application.\n\n\n\nStudents: 90+ students from a range of disciplines who have taken introductory statistics, data science, or probability\nClass meetings: 2 lectures with in-class activities and 1 lab\nAssessments: Labs, homework, exams, final group project"
  },
  {
    "objectID": "slides/index.html#modernizing-the-course",
    "href": "slides/index.html#modernizing-the-course",
    "title": "Modernizing the undergraduate regression analysis course",
    "section": "Modernizing the course",
    "text": "Modernizing the course\nFacilitate opportunities for students to…\n\n\nRegularly engage with real-world applications and complex data\nDevelop proficiency using professional statistical software and using a reproducible workflow\nDevelop important non-technical skills, specifically written communication and teamwork\nIdentify appropriate methods based on the primary analysis objective - inference or prediction"
  },
  {
    "objectID": "slides/index.html#remainder-of-session",
    "href": "slides/index.html#remainder-of-session",
    "title": "Modernizing the undergraduate regression analysis course",
    "section": "Remainder of session",
    "text": "Remainder of session\n\nTidymodels overview and demonstration\nHands-on activity with tidymodels and writing exercises\n\nGoal: Get a glimpse of the in-class student experience\n\nTips + putting it all together"
  },
  {
    "objectID": "slides/index.html#what-is-tidymodels",
    "href": "slides/index.html#what-is-tidymodels",
    "title": "Modernizing the undergraduate regression analysis course",
    "section": "What is tidymodels?",
    "text": "What is tidymodels?\n\n\nThe tidymodels framework is a collection of packages for modeling and machine learning using tidyverse principles."
  },
  {
    "objectID": "slides/index.html#getting-started-with-tidymodels",
    "href": "slides/index.html#getting-started-with-tidymodels",
    "title": "Modernizing the undergraduate regression analysis course",
    "section": "Getting started with tidymodels",
    "text": "Getting started with tidymodels\n\n# intall.packages(\"tidymodels\")\nlibrary(tidymodels)\n\n── Attaching packages ────────────────────────────────────── tidymodels 0.2.0 ──\n\n\n✔ broom        0.8.0          ✔ recipes      0.2.0     \n✔ dials        0.1.1          ✔ rsample      0.1.1     \n✔ dplyr        1.0.9          ✔ tibble       3.1.7     \n✔ ggplot2      3.3.6          ✔ tidyr        1.2.0.9000\n✔ infer        1.0.0          ✔ tune         0.2.0     \n✔ modeldata    0.1.1          ✔ workflows    0.2.6     \n✔ parsnip      0.2.1          ✔ workflowsets 0.2.1     \n✔ purrr        0.3.4          ✔ yardstick    0.0.9     \n\n\n── Conflicts ───────────────────────────────────────── tidymodels_conflicts() ──\n✖ purrr::discard() masks scales::discard()\n✖ dplyr::filter()  masks stats::filter()\n✖ dplyr::lag()     masks stats::lag()\n✖ recipes::step()  masks stats::step()\n• Dig deeper into tidy modeling with R at https://www.tmwr.org"
  },
  {
    "objectID": "slides/index.html#tidymodels-flow",
    "href": "slides/index.html#tidymodels-flow",
    "title": "Modernizing the undergraduate regression analysis course",
    "section": "Tidymodels flow",
    "text": "Tidymodels flow\n\n\n\n\n\n\n\n\nOverall model creation process\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nTesting\n\n\n\nData\n\n\n\nTraining\n\n\n\nModel assessment\n\n\n\nFinal fit\n\n\n\nBetween model selection\n\n\n\nModel and feature development\n\n\n\nModel and feature development\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWorkflow\n\n\n\nModel specification\n\n\n\nRecipe / formula\n\n\n\nModel / feature tuning\n\n\n\nWithin model selection"
  },
  {
    "objectID": "slides/index.html#live-demo-activity-1",
    "href": "slides/index.html#live-demo-activity-1",
    "title": "Modernizing the undergraduate regression analysis course",
    "section": "Live demo + activity",
    "text": "Live demo + activity\n\nGo to bit.ly/modern-regression and click on the Activity link on the left.\nJoin the RStudio Cloud workspace linked on top of the activity document.\nFollow along!"
  },
  {
    "objectID": "slides/index.html#complex-data",
    "href": "slides/index.html#complex-data",
    "title": "Modernizing the undergraduate regression analysis course",
    "section": "Complex data",
    "text": "Complex data\n\nUse authentic data sets that require some wrangling\n\nReinforces exploratory data analysis and that raw data is not always “ready to go” without some preparation\nExtent of data wrangling differs based on type of assignment and time to complete it\n\n\n\n\nAvoid using too many examples with violations in assumptions or where regression is not useful to analyze the data"
  },
  {
    "objectID": "slides/index.html#resources-for-finding-data",
    "href": "slides/index.html#resources-for-finding-data",
    "title": "Modernizing the undergraduate regression analysis course",
    "section": "Resources for finding data",
    "text": "Resources for finding data\n\nOpenIntro\nTidyTuesday\nFiveThirtyEight\n\nGitHub repo\nR package\n\nData is Plural"
  },
  {
    "objectID": "slides/index.html#teamwork",
    "href": "slides/index.html#teamwork",
    "title": "Modernizing the undergraduate regression analysis course",
    "section": "Teamwork",
    "text": "Teamwork\n\nTeams of 3 or 4 students assigned based on\n\nprevious statistics and computing experience\nmajor or academic interests\ntrying to give each student at least one potential point of connection with their teammates\n\n\n\n\nGroups work together throughout the semester on weekly lab assignments and the final project"
  },
  {
    "objectID": "slides/index.html#teamwork-1",
    "href": "slides/index.html#teamwork-1",
    "title": "Modernizing the undergraduate regression analysis course",
    "section": "Teamwork",
    "text": "Teamwork\n\nThe first team assignment includes\n\nCompleting a team agreement\nComing up with a fun team name!\n\n\n\n\nTeamwork is assessed based on contribution and collaboration\n\nGitHub commit history on assignments to assess contribution\nPeriodic team feedback to assess collaboration"
  },
  {
    "objectID": "slides/index.html#putting-it-all-together",
    "href": "slides/index.html#putting-it-all-together",
    "title": "Modernizing the undergraduate regression analysis course",
    "section": "Putting it all together",
    "text": "Putting it all together\nSkills from the 2014 ASA Curriculum Guidelines\n\n“…concepts and approaches for working with complex data …and analyzing non-textbook data.”\n“…students’ analyses should be undertaken in a well-documented and reproducible way”\n“…construct effective visual displays and compelling written summaries” and “demonstrate ability to collaborate in teams…”"
  }
]